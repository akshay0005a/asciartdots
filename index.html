<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Retina ASCII Dots</title>
  <style>
     body {
      background: black;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .button {
      margin: 15px;
      animation: slideDown 1s ease-out forwards;
      margin-top: 50px;
    }

    .bu {
      text-decoration: none;
      color: white;
      background-color: rgb(255, 0, 0);
      padding: 12px 25px;
      border-radius: 10px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      animation: pulse 2s infinite;
      box-shadow: 0 0 10px rgba(255,0,0,0.6);
    }

    .bu:hover {
      background-color: white;
      color: black;
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    }

    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 0 10px rgba(249, 0, 0, 0.6); }
      50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(255, 0, 0, 0.9); }
      100% { transform: scale(1); box-shadow: 0 0 10px rgba(239, 5, 5, 0.6); }
    }

    #asciiCanvas {
      margin: 10px;
      width: 95vw;   
      height: auto;  
      image-rendering: pixelated;
      display: block;
      animation: fadeIn 1s ease-out forwards;
    }

    .instruction {
      margin: 15px;
      opacity: 0;
      animation: fadeInText 1s ease-out forwards;
      animation-delay: 0.5s;
    }

    .instruction span {
      font-family: Arial, sans-serif;
      font-size: 14px;
      color: white;
      transition: transform 0.5s ease, color 0.5s ease;
    }
    .instruction:hover {
      color: lightgray;
    }

    .pics {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
      gap: 50px;
      width: auto;
      flex-direction: row;
      margin: 30px 0px 10px 0px;
      opacity: 0;
      animation: fadeIn 1s ease-out forwards;
      animation-delay: 1s;
    }

    .pics img {
      height: 200px;
      width: auto;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
      object-fit: cover;
      transition: transform 0.5s ease, box-shadow 0.5s ease;
      animation: float 3s ease-in-out infinite alternate;
    }

    .pics img:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(255,255,255,0.8);
    }

    /* Animations */
    @keyframes slideDown {
      0% { transform: translateY(-50px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeInText {
      0% { opacity: 0; transform: translateY(20px);}
      100% { opacity: 1; transform: translateY(0);}
    }

    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes float {
      0% { transform: translateY(0); }
      100% { transform: translateY(-10px); }
    }
  </style>
</head>
<body>
  <div class="button">
    <label class="bu">
      Upload Your Photo
      <input type="file" id="upload" accept="image/*" style="display:none">
    </label>
  </div>
  <div class="instruction">
    <span style="color:white; font-family: Arial, sans-serif; font-size: 14px;">
      (For best results, use a clear photo with good lighting like below pics)
      

    </span>

  </div>
  <div class="pics">
    <img src="men.avif" alt="Sample" >
    <img src="girl.avif" alt="Sample" >
  </div>

  <canvas id="asciiCanvas"></canvas>

  <script>
    const uploadInput = document.getElementById("upload");
    const asciiCanvas = document.getElementById("asciiCanvas");
    const ctx = asciiCanvas.getContext("2d");

    let pixelData = null;
    let imgWidth = 0, imgHeight = 0;
    let linesToShow = 0;
    let dotSize = 6;
    const dpr = window.devicePixelRatio || 1;

    uploadInput.addEventListener("change", function(event){
      const file = event.target.files[0];
      if(!file) return;

      const reader = new FileReader();
      reader.onload = function(e){
        const img = new Image();
        img.onload = function(){
          // target width in dots for clarity
          const maxDots = 200;
          const scale = Math.min(maxDots / img.width, 1);
          imgWidth = Math.floor(img.width * scale);
          imgHeight = Math.floor(img.height * scale);

          // dot size scales for device width & dpr
          dotSize = Math.max(2, Math.floor((window.innerWidth / imgWidth) / 2));

          // internal canvas resolution * devicePixelRatio
          asciiCanvas.width = imgWidth * dotSize * dpr;
          asciiCanvas.height = imgHeight * dotSize * dpr;
          asciiCanvas.style.width = `${imgWidth * dotSize}px`;
          asciiCanvas.style.height = `${imgHeight * dotSize}px`;
          ctx.setTransform(dpr, 0, 0, dpr, 0, 0); // scale context for high-DPI

          const tempCanvas = document.createElement("canvas");
          const tctx = tempCanvas.getContext("2d");
          tempCanvas.width = imgWidth;
          tempCanvas.height = imgHeight;
          tctx.drawImage(img, 0, 0, imgWidth, imgHeight);

          pixelData = tctx.getImageData(0, 0, imgWidth, imgHeight).data;
          linesToShow = 0;
          revealLines();
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    });

    function revealLines(){
      if(linesToShow < imgHeight){
        linesToShow++;
        drawDots();
        setTimeout(revealLines, 50);
      }
    }

    function drawDots(){
      if(!pixelData) return;

      ctx.clearRect(0,0,asciiCanvas.width, asciiCanvas.height);
      ctx.font = `${dotSize}px monospace`;
      ctx.textBaseline = "top";

      for(let y=0; y<linesToShow; y++){
        for(let x=0; x<imgWidth; x++){
          const offset = (y * imgWidth + x) * 4;
          const r = pixelData[offset];
          const g = pixelData[offset+1];
          const b = pixelData[offset+2];
          ctx.fillStyle = `rgb(${r},${g},${b})`;
          ctx.fillText("●", x*dotSize, y*dotSize);
        }
      }
    }

    window.addEventListener("resize", () => {
      if(pixelData) drawDots();
    });
  </script>
</body>
</html>  add the aniamtions to the two photos and text 

